(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{4229:function(e,a,s){Promise.resolve().then(s.bind(s,2254))},2254:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return b}});var i=s(8442),t=s(128),l=s(440),r=s(1721),n=s(3431),o=s(4753),m=s(572),u=s(8670),c=s(5650),d=s(1798),p=s(2886);function g(){let{routes:e,busParameters:a,setOptimizationResults:s,setKpis:l,isOptimizing:r,setIsOptimizing:n,setActiveStep:g}=(0,m.useBusOptimization)(),[h,x]=(0,t.useState)(!1),[C,B]=(0,t.useState)(!1),b=async()=>{0!==e.length&&(n(!0),x(!1),setTimeout(()=>{let i=performance.now(),{results:t,kpis:r,isFeasible:o}=function(e,a){let s=[],i=!0,t=0,l=0,r=0;for(let i of e){let e=function(e,a){let{routeNo:s,routeName:i,routeLengthAtoB:t,routeLengthBtoA:l,peakPassengersAtoB:r,peakPassengersBtoA:n}=e,o=Math.ceil(r/a.smallBusCapacity),m=Math.ceil(r/a.mediumBusCapacity),u=Math.ceil(r/a.largeBusCapacity),c=Math.ceil(n/a.smallBusCapacity),d=Math.ceil(n/a.mediumBusCapacity),p=Math.ceil(n/a.largeBusCapacity),g=Math.max(o,c),h=Math.max(m,d),x=Math.max(u,p);a.smallBusOperatingCost,a.mediumBusOperatingCost,a.largeBusOperatingCost;let C=Number.POSITIVE_INFINITY,B=0,b=0,O=0,y=0;for(let e=0;e<=g;e++)for(let s=0;s<=h;s++)for(let i=0;i<=x;i++){let o=e*a.smallBusCapacity+s*a.mediumBusCapacity+i*a.largeBusCapacity;if(o<r||o<n)continue;let m=(r/o+n/o)/2,u=e*a.smallBusOperatingCost*t+s*a.mediumBusOperatingCost*t+i*a.largeBusOperatingCost*t+e*a.smallBusOperatingCost*l+s*a.mediumBusOperatingCost*l+i*a.largeBusOperatingCost*l,c=u+(e*a.smallBusOperatingCost*t+s*a.mediumBusOperatingCost*t+i*a.largeBusOperatingCost*t+e*a.smallBusOperatingCost*l+s*a.mediumBusOperatingCost*l+i*a.largeBusOperatingCost*l)+(e*a.smallBusOperatingCost*t+s*a.mediumBusOperatingCost*t+i*a.largeBusOperatingCost*t+e*a.smallBusOperatingCost*l+s*a.mediumBusOperatingCost*l+i*a.largeBusOperatingCost*l)+(e+s+i)*a.operationalHours*(t+l);a.smallBusCO2Emission,a.mediumBusCO2Emission,a.largeBusCO2Emission,a.smallBusCO2Emission,a.mediumBusCO2Emission,a.largeBusCO2Emission,c<C&&(C=c,B=e,b=s,O=i,y=m)}let j=B*a.smallBusOperatingCost*(t+l)+b*a.mediumBusOperatingCost*(t+l)+O*a.largeBusOperatingCost*(t+l),k=B*a.smallBusOperatingCost*(t+l)+b*a.mediumBusOperatingCost*(t+l)+O*a.largeBusOperatingCost*(t+l),f=B*a.smallBusOperatingCost*(t+l)+b*a.mediumBusOperatingCost*(t+l)+O*a.largeBusOperatingCost*(t+l),v=(B+b+O)*a.operationalHours*(t+l),N=B*a.smallBusCO2Emission*(t+l)+b*a.mediumBusCO2Emission*(t+l)+O*a.largeBusCO2Emission*(t+l);return{routeNo:s,routeName:i,routeLengthAtoB:t,routeLengthBtoA:l,minibus:B,solo:b,articulated:O,fuelCost:j,maintenanceCost:k,depreciationCost:f,driverCost:v,totalCost:j+k+f+v,carbonEmission:N,capacityUtilization:y,peakPassengersAtoB:r,peakPassengersBtoA:n}}(i,a);t+=e.minibus,l+=e.solo,r+=e.articulated,s.push(e)}(t>a.smallBusCapacity||l>a.mediumBusCapacity||r>a.largeBusCapacity)&&(i=!1);let n=function(e,a,s){let i=a.reduce((e,a)=>e+a.peakPassengersAtoB+a.peakPassengersBtoA,0),t=0;e.forEach(e=>{let s=a.find(a=>a.routeNo===e.routeNo);if(s){let a=s.routeLengthAtoB+s.routeLengthBtoA,i=e.minibus+e.solo+e.articulated;t+=a*i}});let l=e.reduce((e,a)=>e+a.fuelCost,0),r=e.reduce((e,a)=>e+a.maintenanceCost,0),n=e.reduce((e,a)=>e+a.depreciationCost,0),o=e.reduce((e,a)=>e+a.driverCost,0),m=l+r+n+o,u=t>0?m/t:0,c=e.reduce((e,a)=>e+a.carbonEmission,0),d=i>0?c/i:0,p=i*t*(.2-d);return{totalPassengers:i,totalDistance:t,optimizationTime:0,totalFuelCost:l,totalMaintenanceCost:r,totalDepreciationCost:n,totalDriverCost:o,totalCost:m,costPerKm:u,costPerPassenger:i>0?m/i:0,totalCarbonEmission:c,carbonPerPassenger:d,carbonSaved:p}}(s,e,0);return{results:s,kpis:n,isFeasible:i}}(e,a),m=performance.now();s(t),l({...r,optimizationTime:(m-i)/1e3}),n(!1),o?g("scheduleOptimization"):x(!0)},2e3))};return(0,i.jsxs)("div",{className:"space-y-6",children:[r&&(0,i.jsx)(u.Z,{}),h&&(0,i.jsx)("div",{onClick:()=>{x(!1)},className:"cursor-pointer",children:(0,i.jsx)(c.Z,{})}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsx)("div",{className:"flex items-center justify-between",children:(0,i.jsx)("h2",{className:"text-xl font-semibold",children:"Otob\xfcs Tipi Optimizasyonu"})}),(0,i.jsx)("div",{className:"rounded-lg bg-gradient-to-br from-gray-400/20 via-blue-400/10 to-gray-400/20 p-[1px] shadow-md",children:(0,i.jsx)("div",{className:"rounded-lg bg-white/90 dark:bg-black/90 backdrop-blur-md p-6",children:(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsx)("h3",{className:"text-lg font-medium",children:"Optimizasyon Adımı 1: Otob\xfcs Tipi Belirleme"}),(0,i.jsx)("p",{className:"text-muted-foreground",children:"Bu adımda, her hat i\xe7in en uygun otob\xfcs tipi kombinasyonu belirlenecektir. Algoritma, yolcu talebini karşılarken toplam maliyeti (yakıt + bakım + amortisman + s\xfcr\xfcc\xfc) minimize etmeye \xe7alışacaktır."}),(0,i.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-md",children:[(0,i.jsx)("h4",{className:"font-medium mb-2 text-blue-700 dark:text-blue-400",children:"Optimizasyon Kriterleri:"}),(0,i.jsxs)("ul",{className:"list-disc pl-5 space-y-1 text-muted-foreground",children:[(0,i.jsx)("li",{children:"Her hattın zirve saat yolcu sayısı karşılanmalıdır"}),(0,i.jsx)("li",{children:"Toplam maliyet (yakıt + bakım + amortisman + s\xfcr\xfcc\xfc) minimize edilmelidir"}),(0,i.jsx)("li",{children:"Filodaki mevcut otob\xfcs sayısı aşılmamalıdır"}),(0,i.jsx)("li",{children:"Karbon emisyonu hesaplanacak ve raporlanacaktır"})]})]}),(0,i.jsxs)("div",{className:"bg-amber-50 dark:bg-amber-900/20 p-4 rounded-md",children:[(0,i.jsx)("h4",{className:"font-medium mb-2 text-amber-700 dark:text-amber-400",children:"Optimizasyon Sonu\xe7ları:"}),(0,i.jsxs)("ul",{className:"list-disc pl-5 space-y-1 text-muted-foreground",children:[(0,i.jsx)("li",{children:"Her hat i\xe7in atanacak midib\xfcs, solo ve k\xf6r\xfckl\xfc otob\xfcs sayısı"}),(0,i.jsx)("li",{children:"Her hat i\xe7in maliyet detayları (yakıt, bakım, amortisman, s\xfcr\xfcc\xfc)"}),(0,i.jsx)("li",{children:"Toplam maliyet ve kilometre/yolcu başına maliyet"}),(0,i.jsx)("li",{children:"Filo kullanım oranları ve kapasite kullanım y\xfczdeleri"}),(0,i.jsx)("li",{children:"Toplam karbon emisyonu ve \xe7evresel etki analizi"})]})]})]})})}),(0,i.jsxs)("div",{className:"flex justify-between mt-6",children:[(0,i.jsxs)(o.z,{onClick:()=>{g("parameters")},className:"px-4 py-2 transition-all duration-300 hover:bg-gray-100 dark:hover:bg-gray-800",variant:"outline",children:[(0,i.jsx)(d.Z,{className:"mr-2 h-4 w-4"}),"Geri D\xf6n"]}),(0,i.jsxs)(o.z,{onClick:b,disabled:0===e.length||r,className:"px-6 py-2 text-base transition-all duration-300 shadow-md hover:shadow-lg rounded-md ".concat(C?"bg-gradient-to-r from-teal-600 via-blue-600 to-purple-600 scale-105":"bg-gradient-to-r from-teal-500 via-blue-500 to-purple-500"),onMouseEnter:()=>B(!0),onMouseLeave:()=>B(!1),children:[(0,i.jsx)(p.Z,{className:"mr-2 h-5 w-5"}),"Optimizasyonu Başlat"]})]})]})]})}var h=s(6381),x=s(1534),C=s(8185);function B(){let{activeStep:e,setActiveStep:a}=(0,m.useBusOptimization)(),[s,o]=(0,t.useState)(!1);return(0,i.jsx)("main",{className:"container mx-auto px-4",children:(0,i.jsx)(r.Zb,{className:"rounded-lg shadow-md",children:(0,i.jsx)(r.aY,{className:"pt-5",children:(0,i.jsxs)(l.mQ,{value:s?"help":e,onValueChange:e=>{"help"===e?o(!0):(o(!1),a(e))},children:[(0,i.jsx)(l.nU,{value:"parameters",children:(0,i.jsx)(n.Z,{})}),(0,i.jsx)(l.nU,{value:"busOptimization",children:(0,i.jsx)(g,{})}),(0,i.jsx)(l.nU,{value:"scheduleOptimization",children:(0,i.jsx)(h.Z,{})}),(0,i.jsx)(l.nU,{value:"results",children:(0,i.jsx)(x.Z,{})}),(0,i.jsx)(l.nU,{value:"help",children:(0,i.jsx)(C.Z,{})})]})})})})}function b(){return(0,i.jsx)(m.BusOptimizationProvider,{children:(0,i.jsx)(B,{})})}}},function(e){e.O(0,[531,434,768,834,407,426,844,760,16,199,431,814,381,230,481,744],function(){return e(e.s=4229)}),_N_E=e.O()}]);