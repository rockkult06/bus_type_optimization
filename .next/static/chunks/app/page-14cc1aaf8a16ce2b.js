(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{4229:function(e,a,s){Promise.resolve().then(s.bind(s,2254))},2254:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return j}});var i=s(8442),t=s(128),l=s(4583),r=s(1721),n=s(7953),o=s(4753),u=s(572);function m(e){let a=Array.from({length:24},(a,s)=>({hour:s,selectedBusType:e.minibus>0?"small":e.solo>0?"medium":"large",requiredBuses:e.minibus+e.solo+e.articulated,totalCost:e.totalCost/24,co2Emission:e.carbonEmission/24,capacityUtilization:e.capacityUtilization}));return{routeNo:e.routeNo,routeName:e.routeName,hourlyOptimizations:a,totalDailyCost:e.totalCost,totalDailyCO2:e.carbonEmission,averageCapacityUtilization:e.capacityUtilization}}var c=s(8670),d=s(5650),p=s(1798),h=s(2886);function g(){let{routes:e,busParameters:a,setOptimizationResults:s,setKpis:l,isOptimizing:r,setIsOptimizing:n,setActiveStep:g}=(0,u.useBusOptimization)(),[x,y]=(0,t.useState)(!1),[C,b]=(0,t.useState)(!1),j=async()=>{0!==e.length&&(n(!0),y(!1),setTimeout(()=>{let i=performance.now(),{results:t,kpis:r,isFeasible:o}=function(e,a){let s=[],i=!0,t=0,l=0,r=0;for(let i of e){let e=function(e,a){let{routeNo:s,routeName:i,routeLengthAtoB:t,routeLengthBtoA:l,peakPassengersAtoB:r,peakPassengersBtoA:n}=e,o=Math.ceil(r/a.smallBusCapacity),u=Math.ceil(r/a.mediumBusCapacity),m=Math.ceil(r/a.largeBusCapacity),c=Math.ceil(n/a.smallBusCapacity),d=Math.ceil(n/a.mediumBusCapacity),p=Math.ceil(n/a.largeBusCapacity),h=Math.max(o,c),g=Math.max(u,d),x=Math.max(m,p);a.smallBusOperatingCost,a.mediumBusOperatingCost,a.largeBusOperatingCost;let y=Number.POSITIVE_INFINITY,C=0,b=0,j=0,B=0;for(let e=0;e<=h;e++)for(let s=0;s<=g;s++)for(let i=0;i<=x;i++){let o=e*a.smallBusCapacity+s*a.mediumBusCapacity+i*a.largeBusCapacity;if(o<r||o<n)continue;let u=(r/o+n/o)/2,m=e*a.smallBusOperatingCost*t+s*a.mediumBusOperatingCost*t+i*a.largeBusOperatingCost*t+e*a.smallBusOperatingCost*l+s*a.mediumBusOperatingCost*l+i*a.largeBusOperatingCost*l,c=m+(e*a.smallBusOperatingCost*t+s*a.mediumBusOperatingCost*t+i*a.largeBusOperatingCost*t+e*a.smallBusOperatingCost*l+s*a.mediumBusOperatingCost*l+i*a.largeBusOperatingCost*l)+(e*a.smallBusOperatingCost*t+s*a.mediumBusOperatingCost*t+i*a.largeBusOperatingCost*t+e*a.smallBusOperatingCost*l+s*a.mediumBusOperatingCost*l+i*a.largeBusOperatingCost*l)+(e+s+i)*a.operationalHours*(t+l);a.smallBusCO2Emission,a.mediumBusCO2Emission,a.largeBusCO2Emission,a.smallBusCO2Emission,a.mediumBusCO2Emission,a.largeBusCO2Emission,c<y&&(y=c,C=e,b=s,j=i,B=u)}let O=C*a.smallBusOperatingCost*(t+l)+b*a.mediumBusOperatingCost*(t+l)+j*a.largeBusOperatingCost*(t+l),f=C*a.smallBusOperatingCost*(t+l)+b*a.mediumBusOperatingCost*(t+l)+j*a.largeBusOperatingCost*(t+l),v=C*a.smallBusOperatingCost*(t+l)+b*a.mediumBusOperatingCost*(t+l)+j*a.largeBusOperatingCost*(t+l),k=(C+b+j)*a.operationalHours*(t+l),N=C*a.smallBusCO2Emission*(t+l)+b*a.mediumBusCO2Emission*(t+l)+j*a.largeBusCO2Emission*(t+l);return{routeNo:s,routeName:i,routeLengthAtoB:t,routeLengthBtoA:l,minibus:C,solo:b,articulated:j,fuelCost:O,maintenanceCost:f,depreciationCost:v,driverCost:k,totalCost:O+f+v+k,carbonEmission:N,capacityUtilization:B,peakPassengersAtoB:r,peakPassengersBtoA:n}}(i,a);t+=e.minibus,l+=e.solo,r+=e.articulated,s.push(e)}let n=s.map(m);return(t>a.smallBusCapacity||l>a.mediumBusCapacity||r>a.largeBusCapacity)&&(i=!1),{results:n,kpis:function(e,a,s){let i=a.reduce((e,a)=>e+a.peakPassengersAtoB+a.peakPassengersBtoA,0),t=0;e.forEach(e=>{let s=a.find(a=>a.routeNo===e.routeNo);if(s){let a=s.routeLengthAtoB+s.routeLengthBtoA,i=e.minibus+e.solo+e.articulated;t+=a*i}});let l=e.reduce((e,a)=>e+a.fuelCost,0),r=e.reduce((e,a)=>e+a.maintenanceCost,0),n=e.reduce((e,a)=>e+a.depreciationCost,0),o=e.reduce((e,a)=>e+a.driverCost,0),u=l+r+n+o,m=t>0?u/t:0,c=e.reduce((e,a)=>e+a.carbonEmission,0),d=i>0?c/i:0,p=i*t*(.2-d);return{totalPassengers:i,totalDistance:t,optimizationTime:0,totalFuelCost:l,totalMaintenanceCost:r,totalDepreciationCost:n,totalDriverCost:o,totalCost:u,costPerKm:m,costPerPassenger:i>0?u/i:0,totalCarbonEmission:c,carbonPerPassenger:d,carbonSaved:p}}(s,e,0),isFeasible:i}}(e,a),u=performance.now();s(t),l({...r,optimizationTime:(u-i)/1e3}),n(!1),o?g("scheduleOptimization"):y(!0)},2e3))};return(0,i.jsxs)("div",{className:"space-y-6",children:[r&&(0,i.jsx)(c.Z,{}),x&&(0,i.jsx)("div",{onClick:()=>{y(!1)},className:"cursor-pointer",children:(0,i.jsx)(d.Z,{})}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsx)("div",{className:"flex items-center justify-between",children:(0,i.jsx)("h2",{className:"text-xl font-semibold",children:"Otob\xfcs Tipi Optimizasyonu"})}),(0,i.jsx)("div",{className:"rounded-lg bg-gradient-to-br from-gray-400/20 via-blue-400/10 to-gray-400/20 p-[1px] shadow-md",children:(0,i.jsx)("div",{className:"rounded-lg bg-white/90 dark:bg-black/90 backdrop-blur-md p-6",children:(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsx)("h3",{className:"text-lg font-medium",children:"Optimizasyon Adımı 1: Otob\xfcs Tipi Belirleme"}),(0,i.jsx)("p",{className:"text-muted-foreground",children:"Bu adımda, her hat i\xe7in en uygun otob\xfcs tipi kombinasyonu belirlenecektir. Algoritma, yolcu talebini karşılarken toplam maliyeti (yakıt + bakım + amortisman + s\xfcr\xfcc\xfc) minimize etmeye \xe7alışacaktır."}),(0,i.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-md",children:[(0,i.jsx)("h4",{className:"font-medium mb-2 text-blue-700 dark:text-blue-400",children:"Optimizasyon Kriterleri:"}),(0,i.jsxs)("ul",{className:"list-disc pl-5 space-y-1 text-muted-foreground",children:[(0,i.jsx)("li",{children:"Her hattın zirve saat yolcu sayısı karşılanmalıdır"}),(0,i.jsx)("li",{children:"Toplam maliyet (yakıt + bakım + amortisman + s\xfcr\xfcc\xfc) minimize edilmelidir"}),(0,i.jsx)("li",{children:"Filodaki mevcut otob\xfcs sayısı aşılmamalıdır"}),(0,i.jsx)("li",{children:"Karbon emisyonu hesaplanacak ve raporlanacaktır"})]})]}),(0,i.jsxs)("div",{className:"bg-amber-50 dark:bg-amber-900/20 p-4 rounded-md",children:[(0,i.jsx)("h4",{className:"font-medium mb-2 text-amber-700 dark:text-amber-400",children:"Optimizasyon Sonu\xe7ları:"}),(0,i.jsxs)("ul",{className:"list-disc pl-5 space-y-1 text-muted-foreground",children:[(0,i.jsx)("li",{children:"Her hat i\xe7in atanacak midib\xfcs, solo ve k\xf6r\xfckl\xfc otob\xfcs sayısı"}),(0,i.jsx)("li",{children:"Her hat i\xe7in maliyet detayları (yakıt, bakım, amortisman, s\xfcr\xfcc\xfc)"}),(0,i.jsx)("li",{children:"Toplam maliyet ve kilometre/yolcu başına maliyet"}),(0,i.jsx)("li",{children:"Filo kullanım oranları ve kapasite kullanım y\xfczdeleri"}),(0,i.jsx)("li",{children:"Toplam karbon emisyonu ve \xe7evresel etki analizi"})]})]})]})})}),(0,i.jsxs)("div",{className:"flex justify-between mt-6",children:[(0,i.jsxs)(o.z,{onClick:()=>{g("parameters")},className:"px-4 py-2 transition-all duration-300 hover:bg-gray-100 dark:hover:bg-gray-800",variant:"outline",children:[(0,i.jsx)(p.Z,{className:"mr-2 h-4 w-4"}),"Geri D\xf6n"]}),(0,i.jsxs)(o.z,{onClick:j,disabled:0===e.length||r,className:"px-6 py-2 text-base transition-all duration-300 shadow-md hover:shadow-lg rounded-md ".concat(C?"bg-gradient-to-r from-teal-600 via-blue-600 to-purple-600 scale-105":"bg-gradient-to-r from-teal-500 via-blue-500 to-purple-500"),onMouseEnter:()=>b(!0),onMouseLeave:()=>b(!1),children:[(0,i.jsx)(h.Z,{className:"mr-2 h-5 w-5"}),"Optimizasyonu Başlat"]})]})]})]})}var x=s(6381),y=s(2165),C=s(8185);function b(){let{activeStep:e,setActiveStep:a}=(0,u.useBusOptimization)(),[s,o]=(0,t.useState)(!1);return(0,i.jsx)("main",{className:"container mx-auto px-4",children:(0,i.jsx)(r.Zb,{className:"rounded-lg shadow-md",children:(0,i.jsx)(r.aY,{className:"pt-5",children:(0,i.jsxs)(l.mQ,{value:s?"help":e,onValueChange:e=>{"help"===e?o(!0):(o(!1),a(e))},children:[(0,i.jsx)(l.nU,{value:"parameters",children:(0,i.jsx)(n.Z,{})}),(0,i.jsx)(l.nU,{value:"busOptimization",children:(0,i.jsx)(g,{})}),(0,i.jsx)(l.nU,{value:"scheduleOptimization",children:(0,i.jsx)(x.Z,{})}),(0,i.jsx)(l.nU,{value:"results",children:(0,i.jsx)(y.Z,{})}),(0,i.jsx)(l.nU,{value:"help",children:(0,i.jsx)(C.Z,{})})]})})})})}function j(){return(0,i.jsx)(u.BusOptimizationProvider,{children:(0,i.jsx)(b,{})})}},2165:function(e,a,s){"use strict";s.d(a,{Z:function(){return o}});var i=s(8442);s(128);var t=s(1721),l=s(4753),r=s(1798),n=s(572);function o(){let{optimizationResults:e,kpis:a,busParameters:s,routes:o,scheduleResults:u,setActiveStep:m}=(0,n.useBusOptimization)();return(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{className:"text-2xl font-bold tracking-tight",children:"Sonu\xe7lar"}),(0,i.jsx)("p",{className:"text-muted-foreground",children:"Optimizasyon sonu\xe7larını g\xf6r\xfcnt\xfcleyin ve analiz edin"})]}),(0,i.jsxs)(l.z,{onClick:()=>{m("planner")},variant:"outline",children:[(0,i.jsx)(r.Z,{className:"mr-2 h-4 w-4"}),"Geri D\xf6n"]})]}),(0,i.jsxs)(t.Zb,{children:[(0,i.jsxs)(t.Ol,{children:[(0,i.jsx)(t.ll,{children:"Optimizasyon Sonu\xe7ları"}),(0,i.jsx)(t.SZ,{children:"G\xfcnl\xfck optimizasyon sonu\xe7ları burada g\xf6r\xfcnt\xfclenecek"})]}),(0,i.jsx)(t.aY,{children:(0,i.jsx)("div",{className:"text-center py-8",children:(0,i.jsx)("p",{className:"text-muted-foreground",children:"Sonu\xe7lar tablosu g\xfcncelleniyor..."})})})]})]})}}},function(e){e.O(0,[434,199,31,298,519,124,953,814,381,230,481,744],function(){return e(e.s=4229)}),_N_E=e.O()}]);