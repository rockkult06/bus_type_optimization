(()=>{var e={};e.id=931,e.ids=[931],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2500:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>d,originalPathname:()=>c,pages:()=>m,routeModule:()=>p,tree:()=>u});var a=t(9986),i=t(9148),r=t(7050),l=t.n(r),n=t(2274),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);t.d(s,o);let u=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,9143)),"D:\\bus_type_opt_cursor\\bus_type_optimization\\app\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,8161)),"D:\\bus_type_opt_cursor\\bus_type_optimization\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,3172,23)),"next/dist/client/components/not-found-error"]}],m=["D:\\bus_type_opt_cursor\\bus_type_optimization\\app\\page.tsx"],c="/page",d={require:t,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:u}})},9507:(e,s,t)=>{Promise.resolve().then(t.bind(t,7916))},7916:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>C});var a=t(6814),i=t(9760),r=t(2615),l=t(2453),n=t(4781),o=t(2404),u=t(5971);function m(e){let s=Array.from({length:24},(s,t)=>({hour:t,selectedBusType:e.minibus>0?"small":e.solo>0?"medium":"large",requiredBuses:e.minibus+e.solo+e.articulated,totalCost:e.totalCost/24,co2Emission:e.carbonEmission/24,capacityUtilization:e.capacityUtilization}));return{routeNo:e.routeNo,routeName:e.routeName,hourlyOptimizations:s,totalDailyCost:e.totalCost,totalDailyCO2:e.carbonEmission,averageCapacityUtilization:e.capacityUtilization}}var c=t(8497),d=t(4676),p=t(4924),x=t(3920);function g(){let{routes:e,busParameters:s,setOptimizationResults:t,setKpis:r,isOptimizing:l,setIsOptimizing:n,setActiveStep:g}=(0,u.useBusOptimization)(),[h,y]=(0,i.useState)(!1),[b,j]=(0,i.useState)(!1),C=async()=>{0!==e.length&&(n(!0),y(!1),setTimeout(()=>{let a=performance.now(),{results:i,kpis:l,isFeasible:o}=function(e,s){let t=[],a=!0,i=0,r=0,l=0;for(let a of e){let e=function(e,s){let{routeNo:t,routeName:a,routeLengthAtoB:i,routeLengthBtoA:r,peakPassengersAtoB:l,peakPassengersBtoA:n}=e,o=Math.ceil(l/s.smallBusCapacity),u=Math.ceil(l/s.mediumBusCapacity),m=Math.ceil(l/s.largeBusCapacity),c=Math.ceil(n/s.smallBusCapacity),d=Math.ceil(n/s.mediumBusCapacity),p=Math.ceil(n/s.largeBusCapacity),x=Math.max(o,c),g=Math.max(u,d),h=Math.max(m,p);s.smallBusOperatingCost,s.mediumBusOperatingCost,s.largeBusOperatingCost;let y=Number.POSITIVE_INFINITY,b=0,j=0,C=0,B=0;for(let e=0;e<=x;e++)for(let t=0;t<=g;t++)for(let a=0;a<=h;a++){let o=e*s.smallBusCapacity+t*s.mediumBusCapacity+a*s.largeBusCapacity;if(o<l||o<n)continue;let u=(l/o+n/o)/2,m=e*s.smallBusOperatingCost*i+t*s.mediumBusOperatingCost*i+a*s.largeBusOperatingCost*i+e*s.smallBusOperatingCost*r+t*s.mediumBusOperatingCost*r+a*s.largeBusOperatingCost*r,c=m+(e*s.smallBusOperatingCost*i+t*s.mediumBusOperatingCost*i+a*s.largeBusOperatingCost*i+e*s.smallBusOperatingCost*r+t*s.mediumBusOperatingCost*r+a*s.largeBusOperatingCost*r)+(e*s.smallBusOperatingCost*i+t*s.mediumBusOperatingCost*i+a*s.largeBusOperatingCost*i+e*s.smallBusOperatingCost*r+t*s.mediumBusOperatingCost*r+a*s.largeBusOperatingCost*r)+(e+t+a)*s.operationalHours*(i+r);s.smallBusCO2Emission,s.mediumBusCO2Emission,s.largeBusCO2Emission,s.smallBusCO2Emission,s.mediumBusCO2Emission,s.largeBusCO2Emission,c<y&&(y=c,b=e,j=t,C=a,B=u)}let O=b*s.smallBusOperatingCost*(i+r)+j*s.mediumBusOperatingCost*(i+r)+C*s.largeBusOperatingCost*(i+r),v=b*s.smallBusOperatingCost*(i+r)+j*s.mediumBusOperatingCost*(i+r)+C*s.largeBusOperatingCost*(i+r),f=b*s.smallBusOperatingCost*(i+r)+j*s.mediumBusOperatingCost*(i+r)+C*s.largeBusOperatingCost*(i+r),k=(b+j+C)*s.operationalHours*(i+r),N=b*s.smallBusCO2Emission*(i+r)+j*s.mediumBusCO2Emission*(i+r)+C*s.largeBusCO2Emission*(i+r);return{routeNo:t,routeName:a,routeLengthAtoB:i,routeLengthBtoA:r,minibus:b,solo:j,articulated:C,fuelCost:O,maintenanceCost:v,depreciationCost:f,driverCost:k,totalCost:O+v+f+k,carbonEmission:N,capacityUtilization:B,peakPassengersAtoB:l,peakPassengersBtoA:n}}(a,s);i+=e.minibus,r+=e.solo,l+=e.articulated,t.push(e)}let n=t.map(m);return(i>s.smallBusCapacity||r>s.mediumBusCapacity||l>s.largeBusCapacity)&&(a=!1),{results:n,kpis:function(e,s,t){let a=s.reduce((e,s)=>e+s.peakPassengersAtoB+s.peakPassengersBtoA,0),i=0;e.forEach(e=>{let t=s.find(s=>s.routeNo===e.routeNo);if(t){let s=t.routeLengthAtoB+t.routeLengthBtoA,a=e.minibus+e.solo+e.articulated;i+=s*a}});let r=e.reduce((e,s)=>e+s.fuelCost,0),l=e.reduce((e,s)=>e+s.maintenanceCost,0),n=e.reduce((e,s)=>e+s.depreciationCost,0),o=e.reduce((e,s)=>e+s.driverCost,0),u=r+l+n+o,m=i>0?u/i:0,c=e.reduce((e,s)=>e+s.carbonEmission,0),d=a>0?c/a:0,p=a*i*(.2-d);return{totalPassengers:a,totalDistance:i,optimizationTime:0,totalFuelCost:r,totalMaintenanceCost:l,totalDepreciationCost:n,totalDriverCost:o,totalCost:u,costPerKm:m,costPerPassenger:a>0?u/a:0,totalCarbonEmission:c,carbonPerPassenger:d,carbonSaved:p}}(t,e,0),isFeasible:a}}(e,s),u=performance.now();t(i),r({...l,optimizationTime:(u-a)/1e3}),n(!1),o?g("scheduleOptimization"):y(!0)},2e3))};return(0,a.jsxs)("div",{className:"space-y-6",children:[l&&a.jsx(c.Z,{}),h&&a.jsx("div",{onClick:()=>{y(!1)},className:"cursor-pointer",children:a.jsx(d.Z,{})}),(0,a.jsxs)("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsx("h2",{className:"text-xl font-semibold",children:"Otob\xfcs Tipi Optimizasyonu"})}),a.jsx("div",{className:"rounded-lg bg-gradient-to-br from-gray-400/20 via-blue-400/10 to-gray-400/20 p-[1px] shadow-md",children:a.jsx("div",{className:"rounded-lg bg-white/90 dark:bg-black/90 backdrop-blur-md p-6",children:(0,a.jsxs)("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Optimizasyon Adımı 1: Otob\xfcs Tipi Belirleme"}),a.jsx("p",{className:"text-muted-foreground",children:"Bu adımda, her hat i\xe7in en uygun otob\xfcs tipi kombinasyonu belirlenecektir. Algoritma, yolcu talebini karşılarken toplam maliyeti (yakıt + bakım + amortisman + s\xfcr\xfcc\xfc) minimize etmeye \xe7alışacaktır."}),(0,a.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-md",children:[a.jsx("h4",{className:"font-medium mb-2 text-blue-700 dark:text-blue-400",children:"Optimizasyon Kriterleri:"}),(0,a.jsxs)("ul",{className:"list-disc pl-5 space-y-1 text-muted-foreground",children:[a.jsx("li",{children:"Her hattın zirve saat yolcu sayısı karşılanmalıdır"}),a.jsx("li",{children:"Toplam maliyet (yakıt + bakım + amortisman + s\xfcr\xfcc\xfc) minimize edilmelidir"}),a.jsx("li",{children:"Filodaki mevcut otob\xfcs sayısı aşılmamalıdır"}),a.jsx("li",{children:"Karbon emisyonu hesaplanacak ve raporlanacaktır"})]})]}),(0,a.jsxs)("div",{className:"bg-amber-50 dark:bg-amber-900/20 p-4 rounded-md",children:[a.jsx("h4",{className:"font-medium mb-2 text-amber-700 dark:text-amber-400",children:"Optimizasyon Sonu\xe7ları:"}),(0,a.jsxs)("ul",{className:"list-disc pl-5 space-y-1 text-muted-foreground",children:[a.jsx("li",{children:"Her hat i\xe7in atanacak midib\xfcs, solo ve k\xf6r\xfckl\xfc otob\xfcs sayısı"}),a.jsx("li",{children:"Her hat i\xe7in maliyet detayları (yakıt, bakım, amortisman, s\xfcr\xfcc\xfc)"}),a.jsx("li",{children:"Toplam maliyet ve kilometre/yolcu başına maliyet"}),a.jsx("li",{children:"Filo kullanım oranları ve kapasite kullanım y\xfczdeleri"}),a.jsx("li",{children:"Toplam karbon emisyonu ve \xe7evresel etki analizi"})]})]})]})})}),(0,a.jsxs)("div",{className:"flex justify-between mt-6",children:[(0,a.jsxs)(o.z,{onClick:()=>{g("parameters")},className:"px-4 py-2 transition-all duration-300 hover:bg-gray-100 dark:hover:bg-gray-800",variant:"outline",children:[a.jsx(p.Z,{className:"mr-2 h-4 w-4"}),"Geri D\xf6n"]}),(0,a.jsxs)(o.z,{onClick:C,disabled:0===e.length||l,className:`px-6 py-2 text-base transition-all duration-300 shadow-md hover:shadow-lg rounded-md ${b?"bg-gradient-to-r from-teal-600 via-blue-600 to-purple-600 scale-105":"bg-gradient-to-r from-teal-500 via-blue-500 to-purple-500"}`,onMouseEnter:()=>j(!0),onMouseLeave:()=>j(!1),children:[a.jsx(x.Z,{className:"mr-2 h-5 w-5"}),"Optimizasyonu Başlat"]})]})]})]})}var h=t(7789),y=t(1498),b=t(7119);function j(){let{activeStep:e,setActiveStep:s}=(0,u.useBusOptimization)(),[t,o]=(0,i.useState)(!1);return a.jsx("main",{className:"container mx-auto px-4",children:a.jsx(l.Zb,{className:"rounded-lg shadow-md",children:a.jsx(l.aY,{className:"pt-5",children:(0,a.jsxs)(r.mQ,{value:t?"help":e,onValueChange:e=>{"help"===e?o(!0):(o(!1),s(e))},children:[a.jsx(r.nU,{value:"parameters",children:a.jsx(n.Z,{})}),a.jsx(r.nU,{value:"busOptimization",children:a.jsx(g,{})}),a.jsx(r.nU,{value:"scheduleOptimization",children:a.jsx(h.Z,{})}),a.jsx(r.nU,{value:"results",children:a.jsx(y.Z,{})}),a.jsx(r.nU,{value:"help",children:a.jsx(b.Z,{})})]})})})})}function C(){return a.jsx(u.BusOptimizationProvider,{children:a.jsx(j,{})})}},1498:(e,s,t)=>{"use strict";t.d(s,{Z:()=>o});var a=t(6814);t(9760);var i=t(2453),r=t(2404),l=t(4924),n=t(5971);function o(){let{optimizationResults:e,kpis:s,busParameters:t,routes:o,scheduleResults:u,setActiveStep:m}=(0,n.useBusOptimization)();return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Sonu\xe7lar"}),a.jsx("p",{className:"text-muted-foreground",children:"Optimizasyon sonu\xe7larını g\xf6r\xfcnt\xfcleyin ve analiz edin"})]}),(0,a.jsxs)(r.z,{onClick:()=>{m("planner")},variant:"outline",children:[a.jsx(l.Z,{className:"mr-2 h-4 w-4"}),"Geri D\xf6n"]})]}),(0,a.jsxs)(i.Zb,{children:[(0,a.jsxs)(i.Ol,{children:[a.jsx(i.ll,{children:"Optimizasyon Sonu\xe7ları"}),a.jsx(i.SZ,{children:"G\xfcnl\xfck optimizasyon sonu\xe7ları burada g\xf6r\xfcnt\xfclenecek"})]}),a.jsx(i.aY,{children:a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-muted-foreground",children:"Sonu\xe7lar tablosu g\xfcncelleniyor..."})})})]})]})}},9143:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>r,__esModule:()=>i,default:()=>l});let a=(0,t(3611).createProxy)(String.raw`D:\bus_type_opt_cursor\bus_type_optimization\app\page.tsx`),{__esModule:i,$$typeof:r}=a,l=a.default}};var s=require("../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[619,276,248,93,896,81,781,119,789],()=>t(2500));module.exports=a})();