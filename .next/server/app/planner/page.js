(()=>{var e={};e.id=136,e.ids=[136],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5506:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var r=a(9986),s=a(9148),i=a(7050),l=a.n(i),n=a(2274),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);a.d(t,o);let d=["",{children:["planner",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,2137)),"D:\\bus_type_opt_cursor\\bus_type_optimization\\app\\planner\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,8161)),"D:\\bus_type_opt_cursor\\bus_type_optimization\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,3172,23)),"next/dist/client/components/not-found-error"]}],c=["D:\\bus_type_opt_cursor\\bus_type_optimization\\app\\planner\\page.tsx"],u="/planner/page",m={require:a,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/planner/page",pathname:"/planner",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},6893:(e,t,a)=>{Promise.resolve().then(a.bind(a,9868))},9868:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>eG});var r=a(6814),s=a(9760),i=a(2404),l=a(2453),n=a(9360),o=a(5162),d=a(8016),c=a(7367),u=a(7618);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let m=(0,u.Z)("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]),p=(0,u.Z)("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);var x=a(9309),h=a(2004),f=a(1747),g=a(9629);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let b=(0,u.Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);var y=a(9425),j=a(3285),v=a(9826),N=a(2852),k=a(8827);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let w=(0,u.Z)("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]),A=(0,u.Z)("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);var S=a(3920),B=a(782),I=a(8182),C=a(2615),z=a(1013),M=a(8059),P=a(4586),_=a(3104),R=a(5976);class E extends s.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function O({children:e,isPresent:t}){let a=(0,s.useId)(),i=(0,s.useRef)(null),l=(0,s.useRef)({width:0,height:0,top:0,left:0}),{nonce:n}=(0,s.useContext)(R._);return(0,s.useInsertionEffect)(()=>{let{width:e,height:r,top:s,left:o}=l.current;if(t||!i.current||!e||!r)return;i.current.dataset.motionPopId=a;let d=document.createElement("style");return n&&(d.nonce=n),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${r}px !important;
            top: ${s}px !important;
            left: ${o}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),(0,r.jsx)(E,{isPresent:t,childRef:i,sizeRef:l,children:s.cloneElement(e,{ref:i})})}let Z=({children:e,initial:t,isPresent:a,onExitComplete:i,custom:l,presenceAffectsLayout:n,mode:o})=>{let d=(0,P.h)(D),c=(0,s.useId)(),u=(0,s.useCallback)(e=>{for(let t of(d.set(e,!0),d.values()))if(!t)return;i&&i()},[d,i]),m=(0,s.useMemo)(()=>({id:c,initial:t,isPresent:a,custom:l,onExitComplete:u,register:e=>(d.set(e,!1),()=>d.delete(e))}),n?[Math.random(),u]:[a,u]);return(0,s.useMemo)(()=>{d.forEach((e,t)=>d.set(t,!1))},[a]),s.useEffect(()=>{a||d.size||!i||i()},[a]),"popLayout"===o&&(e=(0,r.jsx)(O,{isPresent:a,children:e})),(0,r.jsx)(_.O.Provider,{value:m,children:e})};function D(){return new Map}var $=a(9222);let T=e=>e.key||"";function F(e){let t=[];return s.Children.forEach(e,e=>{(0,s.isValidElement)(e)&&t.push(e)}),t}var q=a(7033);let V=({children:e,custom:t,initial:a=!0,onExitComplete:i,presenceAffectsLayout:l=!0,mode:n="sync",propagate:o=!1})=>{let[d,c]=(0,$.oO)(o),u=(0,s.useMemo)(()=>F(e),[e]),m=o&&!d?[]:u.map(T),p=(0,s.useRef)(!0),x=(0,s.useRef)(u),h=(0,P.h)(()=>new Map),[f,g]=(0,s.useState)(u),[b,y]=(0,s.useState)(u);(0,q.L)(()=>{p.current=!1,x.current=u;for(let e=0;e<b.length;e++){let t=T(b[e]);m.includes(t)?h.delete(t):!0!==h.get(t)&&h.set(t,!1)}},[b,m.length,m.join("-")]);let j=[];if(u!==f){let e=[...u];for(let t=0;t<b.length;t++){let a=b[t],r=T(a);m.includes(r)||(e.splice(t,0,a),j.push(a))}"wait"===n&&j.length&&(e=j),y(F(e)),g(u);return}let{forceRender:v}=(0,s.useContext)(M.p);return(0,r.jsx)(r.Fragment,{children:b.map(e=>{let s=T(e),f=(!o||!!d)&&(u===b||m.includes(s));return(0,r.jsx)(Z,{isPresent:f,initial:(!p.current||!!a)&&void 0,custom:f?void 0:t,presenceAffectsLayout:l,mode:n,onExitComplete:f?void 0:()=>{if(!h.has(s))return;h.set(s,!0);let e=!0;h.forEach(t=>{t||(e=!1)}),e&&(null==v||v(),y(x.current),o&&(null==c||c()),i&&i())},children:e},s)})})};var Y=a(6198),H=a(8313);class U{constructor(e,t,a){this.points=[],this.lines=[];for(let r=0;r<8;r++){let s=r/8*Math.PI*2,i=e/2+70*Math.cos(s),l=t/2+70*Math.sin(s);this.points.push({x:i,y:l,size:3+2*Math.random(),speed:.01+.02*Math.random(),color:a?`rgba(${100+155*Math.random()}, ${150+105*Math.random()}, 255, 0.8)`:`rgba(${50+100*Math.random()}, ${100+155*Math.random()}, 255, 0.8)`})}this.points.push({x:e/2,y:t/2,size:5,speed:.02,color:a?"rgba(150, 200, 255, 0.9)":"rgba(100, 150, 255, 0.9)"});let r=this.points.length-1;for(let e=0;e<8;e++)this.lines.push({startIndex:r,endIndex:e,progress:Math.random(),speed:.005+.01*Math.random(),color:a?"rgba(150, 200, 255, 0.5)":"rgba(100, 150, 255, 0.5)"});for(let e=0;e<8;e++)this.lines.push({startIndex:e,endIndex:(e+1)%8,progress:Math.random(),speed:.003+.008*Math.random(),color:a?"rgba(150, 200, 255, 0.3)":"rgba(100, 150, 255, 0.3)"})}update(){this.lines.forEach(e=>{e.progress+=e.speed,e.progress>1&&(e.progress=0)})}draw(e,t){this.lines.forEach(a=>{let r=this.points[a.startIndex],s=this.points[a.endIndex];e.strokeStyle=a.color,e.lineWidth=1,e.beginPath(),e.moveTo(r.x,r.y),e.lineTo(s.x,s.y),e.stroke();let i=r.x+(s.x-r.x)*a.progress,l=r.y+(s.y-r.y)*a.progress;e.fillStyle=t?"rgba(150, 220, 255, 0.8)":"rgba(100, 180, 255, 0.8)",e.beginPath(),e.arc(i,l,2,0,2*Math.PI),e.fill()}),this.points.forEach(t=>{let a=e.createRadialGradient(t.x,t.y,0,t.x,t.y,3*t.size);a.addColorStop(0,t.color.replace("0.8","0.3")),a.addColorStop(1,t.color.replace("0.8","0")),e.fillStyle=a,e.beginPath(),e.arc(t.x,t.y,3*t.size,0,2*Math.PI),e.fill(),e.fillStyle=t.color,e.beginPath(),e.arc(t.x,t.y,t.size,0,2*Math.PI),e.fill()})}}function W(){let e=(0,s.useRef)(null),{theme:t}=(0,I.F)();return(0,s.useEffect)(()=>{let a;let r=e.current;if(!r)return;let s=r.getContext("2d");if(!s)return;let i="dark"===t;r.width=300,r.height=200;let l=new U(r.width,r.height,i);return function e(){s.clearRect(0,0,r.width,r.height),l.update(),l.draw(s,i),a=requestAnimationFrame(e)}(),t&&(i="dark"===t),()=>{cancelAnimationFrame(a)}},[t]),r.jsx("canvas",{ref:e,className:"w-[300px] h-[200px]"})}var G=a(4816),K=a(6216),L=a(1027),J=a(1252),X=a(7098),Q=a(9478),ee=a(6754),et=a(7873),ea=a(6654),er=a(5055),es=a(6707),ei=a(2469),el=a(248),en=a(8367),eo="Dialog",[ed,ec]=(0,L.b)(eo),[eu,em]=ed(eo),ep=e=>{let{__scopeDialog:t,children:a,open:i,defaultOpen:l,onOpenChange:n,modal:o=!0}=e,d=s.useRef(null),c=s.useRef(null),[u,m]=(0,X.T)({prop:i,defaultProp:l??!1,onChange:n,caller:eo});return(0,r.jsx)(eu,{scope:t,triggerRef:d,contentRef:c,contentId:(0,J.M)(),titleId:(0,J.M)(),descriptionId:(0,J.M)(),open:u,onOpenChange:m,onOpenToggle:s.useCallback(()=>m(e=>!e),[m]),modal:o,children:a})};ep.displayName=eo;var ex="DialogTrigger",eh=s.forwardRef((e,t)=>{let{__scopeDialog:a,...s}=e,i=em(ex,a),l=(0,K.e)(t,i.triggerRef);return(0,r.jsx)(er.WV.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":eE(i.open),...s,ref:l,onClick:(0,G.M)(e.onClick,i.onOpenToggle)})});eh.displayName=ex;var ef="DialogPortal",[eg,eb]=ed(ef,{forceMount:void 0}),ey=e=>{let{__scopeDialog:t,forceMount:a,children:i,container:l}=e,n=em(ef,t);return(0,r.jsx)(eg,{scope:t,forceMount:a,children:s.Children.map(i,e=>(0,r.jsx)(ea.z,{present:a||n.open,children:(0,r.jsx)(et.h,{asChild:!0,container:l,children:e})}))})};ey.displayName=ef;var ej="DialogOverlay",ev=s.forwardRef((e,t)=>{let a=eb(ej,e.__scopeDialog),{forceMount:s=a.forceMount,...i}=e,l=em(ej,e.__scopeDialog);return l.modal?(0,r.jsx)(ea.z,{present:s||l.open,children:(0,r.jsx)(ek,{...i,ref:t})}):null});ev.displayName=ej;var eN=(0,en.Z8)("DialogOverlay.RemoveScroll"),ek=s.forwardRef((e,t)=>{let{__scopeDialog:a,...s}=e,i=em(ej,a);return(0,r.jsx)(ei.Z,{as:eN,allowPinchZoom:!0,shards:[i.contentRef],children:(0,r.jsx)(er.WV.div,{"data-state":eE(i.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),ew="DialogContent",eA=s.forwardRef((e,t)=>{let a=eb(ew,e.__scopeDialog),{forceMount:s=a.forceMount,...i}=e,l=em(ew,e.__scopeDialog);return(0,r.jsx)(ea.z,{present:s||l.open,children:l.modal?(0,r.jsx)(eS,{...i,ref:t}):(0,r.jsx)(eB,{...i,ref:t})})});eA.displayName=ew;var eS=s.forwardRef((e,t)=>{let a=em(ew,e.__scopeDialog),i=s.useRef(null),l=(0,K.e)(t,a.contentRef,i);return s.useEffect(()=>{let e=i.current;if(e)return(0,el.Ry)(e)},[]),(0,r.jsx)(eI,{...e,ref:l,trapFocus:a.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,G.M)(e.onCloseAutoFocus,e=>{e.preventDefault(),a.triggerRef.current?.focus()}),onPointerDownOutside:(0,G.M)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,a=0===t.button&&!0===t.ctrlKey;(2===t.button||a)&&e.preventDefault()}),onFocusOutside:(0,G.M)(e.onFocusOutside,e=>e.preventDefault())})}),eB=s.forwardRef((e,t)=>{let a=em(ew,e.__scopeDialog),i=s.useRef(!1),l=s.useRef(!1);return(0,r.jsx)(eI,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(i.current||a.triggerRef.current?.focus(),t.preventDefault()),i.current=!1,l.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(i.current=!0,"pointerdown"!==t.detail.originalEvent.type||(l.current=!0));let r=t.target;a.triggerRef.current?.contains(r)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&l.current&&t.preventDefault()}})}),eI=s.forwardRef((e,t)=>{let{__scopeDialog:a,trapFocus:i,onOpenAutoFocus:l,onCloseAutoFocus:n,...o}=e,d=em(ew,a),c=s.useRef(null),u=(0,K.e)(t,c);return(0,es.EW)(),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ee.M,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:l,onUnmountAutoFocus:n,children:(0,r.jsx)(Q.XB,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":eE(d.open),...o,ref:u,onDismiss:()=>d.onOpenChange(!1)})}),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e$,{titleId:d.titleId}),(0,r.jsx)(eT,{contentRef:c,descriptionId:d.descriptionId})]})]})}),eC="DialogTitle",ez=s.forwardRef((e,t)=>{let{__scopeDialog:a,...s}=e,i=em(eC,a);return(0,r.jsx)(er.WV.h2,{id:i.titleId,...s,ref:t})});ez.displayName=eC;var eM="DialogDescription",eP=s.forwardRef((e,t)=>{let{__scopeDialog:a,...s}=e,i=em(eM,a);return(0,r.jsx)(er.WV.p,{id:i.descriptionId,...s,ref:t})});eP.displayName=eM;var e_="DialogClose",eR=s.forwardRef((e,t)=>{let{__scopeDialog:a,...s}=e,i=em(e_,a);return(0,r.jsx)(er.WV.button,{type:"button",...s,ref:t,onClick:(0,G.M)(e.onClick,()=>i.onOpenChange(!1))})});function eE(e){return e?"open":"closed"}eR.displayName=e_;var eO="DialogTitleWarning",[eZ,eD]=(0,L.k)(eO,{contentName:ew,titleName:eC,docsSlug:"dialog"}),e$=({titleId:e})=>{let t=eD(eO),a=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return s.useEffect(()=>{e&&!document.getElementById(e)&&console.error(a)},[a,e]),null},eT=({contentRef:e,descriptionId:t})=>{let a=eD("DialogDescriptionWarning"),r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${a.contentName}}.`;return s.useEffect(()=>{let a=e.current?.getAttribute("aria-describedby");t&&a&&!document.getElementById(t)&&console.warn(r)},[r,e,t]),null};/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let eF=(0,u.Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var eq=a(2338);let eV=s.forwardRef(({className:e,...t},a)=>r.jsx(ev,{ref:a,className:(0,eq.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));eV.displayName=ev.displayName;let eY=s.forwardRef(({className:e,children:t,...a},s)=>(0,r.jsxs)(ey,{children:[r.jsx(eV,{}),(0,r.jsxs)(eA,{ref:s,className:(0,eq.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...a,children:[t,(0,r.jsxs)(eR,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[r.jsx(eF,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));eY.displayName=eA.displayName;let eH=({className:e,...t})=>r.jsx("div",{className:(0,eq.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});eH.displayName="DialogHeader";let eU=s.forwardRef(({className:e,...t},a)=>r.jsx(ez,{ref:a,className:(0,eq.cn)("text-lg font-semibold leading-none tracking-tight",e),...t}));eU.displayName=ez.displayName;let eW=s.forwardRef(({className:e,...t},a)=>r.jsx(eP,{ref:a,className:(0,eq.cn)("text-sm text-muted-foreground",e),...t}));function eG(){let[e,t]=(0,s.useState)({start:"07:00",end:"08:00"}),[a,u]=(0,s.useState)(100),[M,P]=(0,s.useState)(500),[_,R]=(0,s.useState)(490),[E,O]=(0,s.useState)(50),[Z,D]=(0,s.useState)(45),[$,T]=(0,s.useState)(!1),[F,q]=(0,s.useState)(!1),[U,G]=(0,s.useState)(!1),{theme:K,setTheme:L}=(0,I.F)(),J=(0,s.useRef)(null),X=(0,s.useRef)(null),[Q,ee]=(0,s.useState)(null),[et,ea]=(0,s.useState)(0);(0,s.useEffect)(()=>(q(!0),J.current=new Audio("/click.mp3"),J.current.volume=.2,X.current=new Audio("/success.mp3"),X.current.volume=.3,()=>{J.current&&(J.current=null),X.current&&(X.current=null)}),[]);let er=e=>{let t=Number.parseInt(e.split("-")[1],10);return`bus-color-${(t-1)%10+1}`},es=(e,t,a,r,s,i)=>{let l=r-a,n=l/e,o=l/t,d=[];for(let t=0;t<e;t++)d.push({direction:"AB",idealTime:a+Math.round(t*n)});for(let e=0;e<t;e++)d.push({direction:"BA",idealTime:a+Math.round(e*o)});d.sort((e,t)=>e.idealTime-t.idealTime);let c=[{id:"Bus-1",location:"A",availableAt:a,trips:0},{id:"Bus-2",location:"B",availableAt:a,trips:0}],u=(e,t)=>{let a="AB"===e?"A":"B",r=null,s=Number.POSITIVE_INFINITY;for(let e of c)e.location===a&&e.availableAt<=s&&(r=e,s=e.availableAt);return{bus:r,availableAt:s}},m=e=>{let t={id:`Bus-${c.length+1}`,location:e,availableAt:a,trips:0};return c.push(t),t};for(let e of d){let{bus:t,availableAt:a}=u(e.direction,e.idealTime);if(!t||a>e.idealTime+n/2){let t=m("AB"===e.direction?"A":"B");e.busId=t.id,e.actualTime=e.idealTime,t.location="AB"===e.direction?"B":"A",t.availableAt=e.idealTime+("AB"===e.direction?s:i),t.trips++}else e.busId=t.id,e.actualTime=Math.max(e.idealTime,a),t.location="AB"===e.direction?"B":"A",t.availableAt=e.actualTime+("AB"===e.direction?s:i),t.trips++}let p=[],x=[];for(let e of d)if(void 0!==e.actualTime&&void 0!==e.busId){let t={time:el(e.actualTime),busId:e.busId};"AB"===e.direction?p.push(t):x.push(t)}p.sort((e,t)=>ei(e.time)-ei(t.time)),x.sort((e,t)=>ei(e.time)-ei(t.time));let h={};for(let e of c)e.trips>0&&(h[e.id]={trips:e.trips});(()=>{for(let e of[...c].sort((e,t)=>e.trips-t.trips)){if(0===e.trips)continue;let t=d.filter(t=>t.busId===e.id),r=!0;for(let l of t){let t=!1;for(let r of c){if(r.id===e.id)continue;let n=d.map(e=>({...e})),o=n.findIndex(t=>t.direction===l.direction&&t.actualTime===l.actualTime&&t.busId===e.id);o>=0&&n.splice(o,1);let u=c.map(e=>({...e,location:"A",availableAt:a,trips:0})),m={...l,busId:r.id};n.push(m),n.sort((e,t)=>(e.actualTime||0)-(t.actualTime||0));let p=!0;for(let e of n){if(!e.busId||!e.actualTime)continue;let t=u.find(t=>t.id===e.busId);if(!t)continue;let a="AB"===e.direction?"A":"B";if(t.location!==a||t.availableAt>e.actualTime){p=!1;break}t.location="AB"===e.direction?"B":"A",t.availableAt=e.actualTime+("AB"===e.direction?s:i),t.trips++}if(p){l.busId=r.id,t=!0;break}}t||(r=!1)}r&&(e.trips=0)}})();let f=c.filter(e=>e.trips>0),g={};f.forEach((e,t)=>{g[e.id]=`Bus-${t+1}`}),p.forEach(e=>{e.busId=g[e.busId]||e.busId}),x.forEach(e=>{e.busId=g[e.busId]||e.busId});let b={};for(let[e,t]of Object.entries(h)){let a=g[e]||e;a in b?b[a].trips+=t.trips:b[a]={trips:t.trips}}return{totalBuses:f.length,scheduleAB:p,scheduleBA:x,busUtilization:b}},ei=e=>{let[t,a]=e.split(":").map(Number);return 60*t+a},el=e=>`${(Math.floor(e/60)%24).toString().padStart(2,"0")}:${(e%60).toString().padStart(2,"0")}`;return F?(0,r.jsxs)("div",{className:"relative min-h-screen bg-gradient-to-br from-gray-50 to-blue-50 dark:from-gray-900 dark:to-blue-950 transition-colors duration-500",children:[r.jsx(V,{children:U&&r.jsx(Y.E.div,{className:"fixed top-0 left-0 right-0 z-50 flex justify-center",initial:{y:-50,opacity:0},animate:{y:0,opacity:1},exit:{y:-50,opacity:0},transition:{duration:.3},children:(0,r.jsxs)("div",{className:"mt-4 px-6 py-3 bg-gradient-to-r from-green-500 to-teal-500 text-white rounded-full shadow-lg flex items-center",children:[r.jsx(c.Z,{className:"mr-2 h-5 w-5"}),r.jsx("span",{children:"Optimizasyon tamamlandı!"})]})})}),r.jsx("header",{className:"fixed top-0 left-0 right-0 z-40 bg-white/80 dark:bg-gray-900/80 backdrop-blur-md border-b border-gray-200 dark:border-gray-800",children:(0,r.jsxs)("div",{className:"container mx-auto flex justify-between items-center h-16 px-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-8",children:[(0,r.jsxs)(H.default,{href:"/",className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-blue-500 to-purple-500 flex items-center justify-center",children:r.jsx(m,{className:"h-4 w-4 text-white"})}),r.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Sefer Planı Platformu"})]}),(0,r.jsxs)("nav",{className:"hidden md:flex items-center space-x-6",children:[(0,r.jsxs)(H.default,{href:"/",className:"flex items-center space-x-1 text-gray-600 hover:text-blue-500 dark:text-gray-300 dark:hover:text-blue-400 transition-colors",children:[r.jsx(p,{className:"h-4 w-4"}),r.jsx("span",{children:"Ana Sayfa"})]}),(0,r.jsxs)(H.default,{href:"/planner",className:"flex items-center space-x-1 text-blue-500 dark:text-blue-400 font-medium",children:[r.jsx(x.Z,{className:"h-4 w-4"}),r.jsx("span",{children:"Sefer Planlama"})]}),(0,r.jsxs)(ep,{children:[r.jsx(eh,{asChild:!0,children:(0,r.jsxs)("button",{className:"flex items-center space-x-1 text-gray-600 hover:text-blue-500 dark:text-gray-300 dark:hover:text-blue-400 transition-colors",children:[r.jsx(h.Z,{className:"h-4 w-4"}),r.jsx("span",{children:"Yardım"})]})}),(0,r.jsxs)(eY,{className:"sm:max-w-[600px] max-h-[80vh] overflow-y-auto",children:[(0,r.jsxs)(eH,{children:[(0,r.jsxs)(eU,{className:"text-xl flex items-center text-gray-900 dark:text-gray-100",children:[r.jsx(h.Z,{className:"mr-2 h-5 w-5 text-blue-500"}),"Sefer Planı Platformu Hakkında"]}),r.jsx(eW,{className:"text-gray-600 dark:text-gray-400 pt-2",children:"Platform amacı, algoritması ve \xf6zellikleri hakkında bilgiler"})]}),(0,r.jsxs)("div",{className:"space-y-6 mt-4",children:[(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-blue-600 dark:text-blue-400 mb-2",children:"Platform Amacı"}),r.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"Sefer Planı Platformu, toplu taşıma operat\xf6rlerinin sefer \xe7izelgelerini optimize etmelerine yardımcı olmak i\xe7in tasarlanmıştır. Platform, yolcu talebine g\xf6re en verimli otob\xfcs sayısını ve sefer sıklığını hesaplar, b\xf6ylece kaynakların etkin kullanımını sağlar."})]}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-blue-600 dark:text-blue-400 mb-2",children:"Optimizasyon Algoritması"}),r.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"Platform, aşağıdaki adımları izleyen \xf6zel bir optimizasyon algoritması kullanır:"}),(0,r.jsxs)("ol",{className:"list-decimal pl-5 mt-2 space-y-2 text-gray-700 dark:text-gray-300",children:[r.jsx("li",{children:"Yolcu talebine g\xf6re minimum sefer sayısını hesaplar"}),r.jsx("li",{children:"İdeal sefer aralıklarını belirler"}),r.jsx("li",{children:"Otob\xfcslerin konumlarını ve m\xfcsaitlik durumlarını takip eder"}),r.jsx("li",{children:"Her sefer i\xe7in en uygun otob\xfcs\xfc atar"}),r.jsx("li",{children:"Gerektiğinde yeni otob\xfcs ekler"}),r.jsx("li",{children:"Az kullanılan otob\xfcslerin seferlerini yeniden dağıtarak toplam otob\xfcs sayısını azaltır"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-blue-600 dark:text-blue-400 mb-2",children:"\xd6zellikler"}),(0,r.jsxs)("ul",{className:"list-disc pl-5 space-y-2 text-gray-700 dark:text-gray-300",children:[r.jsx("li",{children:"Yolcu sayısı, otob\xfcs kapasitesi ve zaman aralığı gibi parametreleri \xf6zelleştirme"}),r.jsx("li",{children:"Her iki y\xf6n i\xe7in ayrı sefer \xe7izelgeleri oluşturma"}),r.jsx("li",{children:"Otob\xfcs kullanım analizleri"}),r.jsx("li",{children:"Sonu\xe7ları Excel formatında dışa aktarma"}),r.jsx("li",{children:"Koyu ve a\xe7ık tema desteği"}),r.jsx("li",{children:"Sezgisel ve modern kullanıcı aray\xfcz\xfc"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-blue-600 dark:text-blue-400 mb-2",children:"Nasıl Kullanılır?"}),(0,r.jsxs)("ol",{className:"list-decimal pl-5 mt-2 space-y-2 text-gray-700 dark:text-gray-300",children:[r.jsx("li",{children:"Sol paneldeki parametreleri girin (zaman aralığı, otob\xfcs kapasitesi, yolcu sayıları, parkur s\xfcreleri)"}),r.jsx("li",{children:'"Sefer Planı Oluştur" butonuna tıklayın'}),r.jsx("li",{children:"Sağ panelde oluşturulan sefer planını inceleyin"}),r.jsx("li",{children:'İsterseniz "Excel\'e Aktar" butonu ile sonu\xe7ları dışa aktarın'})]})]})]})]})]})]})]}),r.jsx("div",{className:"flex items-center space-x-3",children:(0,r.jsxs)(i.z,{variant:"ghost",size:"icon",className:"rounded-full",onClick:()=>L("dark"===K?"light":"dark"),children:[r.jsx(f.Z,{className:"h-5 w-5 text-yellow-500 dark:hidden"}),r.jsx(g.Z,{className:"h-5 w-5 text-blue-400 hidden dark:block"})]})})]})}),(0,r.jsxs)("div",{className:"container mx-auto py-24 px-4 font-sans transition-all duration-300 theme-transition",children:[r.jsx(Y.E.div,{className:"flex justify-between items-center mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:r.jsx("h1",{className:"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600 dark:from-blue-400 dark:to-purple-400",children:"Sefer \xc7izelgesi Optimizasyonu"})}),(0,r.jsxs)("div",{className:"grid gap-8 md:grid-cols-2",children:[r.jsx(Y.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:(0,r.jsxs)(l.Zb,{className:"frosted-glass modern-shadow border-0 overflow-hidden",children:[(0,r.jsxs)(l.Ol,{className:"pb-2 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20",children:[(0,r.jsxs)(l.ll,{className:"text-xl flex items-center text-gray-900 dark:text-gray-100",children:[r.jsx(b,{className:"mr-2 h-5 w-5 text-blue-500"}),"Parametreler"]}),r.jsx(l.SZ,{className:"text-gray-600 dark:text-gray-400 font-medium",children:"Sefer planı oluşturmak i\xe7in gerekli parametreleri girin"})]}),r.jsx(l.aY,{className:"pt-6",children:(0,r.jsxs)("div",{className:"grid gap-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"space-y-2 group",children:[(0,r.jsxs)(o._,{htmlFor:"timeStart",className:"flex items-center text-sm font-medium text-gray-700 dark:text-gray-300 group-focus-within:text-blue-500 dark:group-focus-within:text-blue-400 transition-colors",children:[r.jsx(y.Z,{className:"mr-2 h-4 w-4 text-blue-500 group-focus-within:text-blue-600 dark:group-focus-within:text-blue-400 transition-colors"}),"Başlangı\xe7 Saati"]}),(0,r.jsxs)("div",{className:"relative",children:[r.jsx(n.I,{id:"timeStart",type:"time",value:e.start,onChange:a=>t({...e,start:a.target.value}),className:"modern-input w-full focus:ring-2 focus:ring-blue-500/20 dark:focus:ring-blue-500/40 transition-all"}),r.jsx("div",{className:"absolute inset-0 rounded-md pointer-events-none ring-0 group-focus-within:ring-2 group-focus-within:ring-blue-500/20 dark:group-focus-within:ring-blue-500/40 transition-all"})]})]}),(0,r.jsxs)("div",{className:"space-y-2 group",children:[(0,r.jsxs)(o._,{htmlFor:"timeEnd",className:"flex items-center text-sm font-medium text-gray-700 dark:text-gray-300 group-focus-within:text-blue-500 dark:group-focus-within:text-blue-400 transition-colors",children:[r.jsx(y.Z,{className:"mr-2 h-4 w-4 text-blue-500 group-focus-within:text-blue-600 dark:group-focus-within:text-blue-400 transition-colors"}),"Bitiş Saati"]}),(0,r.jsxs)("div",{className:"relative",children:[r.jsx(n.I,{id:"timeEnd",type:"time",value:e.end,onChange:a=>t({...e,end:a.target.value}),className:"modern-input w-full focus:ring-2 focus:ring-blue-500/20 dark:focus:ring-blue-500/40 transition-all"}),r.jsx("div",{className:"absolute inset-0 rounded-md pointer-events-none ring-0 group-focus-within:ring-2 group-focus-within:ring-blue-500/20 dark:group-focus-within:ring-blue-500/40 transition-all"})]})]})]}),(0,r.jsxs)("div",{className:"space-y-2 group",children:[(0,r.jsxs)(o._,{htmlFor:"busCapacity",className:"flex items-center text-sm font-medium text-gray-700 dark:text-gray-300 group-focus-within:text-blue-500 dark:group-focus-within:text-blue-400 transition-colors",children:[r.jsx(x.Z,{className:"mr-2 h-4 w-4 text-blue-500 group-focus-within:text-blue-600 dark:group-focus-within:text-blue-400 transition-colors"}),"Otob\xfcs Kapasitesi"]}),(0,r.jsxs)("div",{className:"relative",children:[r.jsx(n.I,{id:"busCapacity",type:"number",min:"1",value:a,onChange:e=>{let t=""===e.target.value?"":Number(e.target.value);u(""===t?100:t)},className:"modern-input w-full focus:ring-2 focus:ring-blue-500/20 dark:focus:ring-blue-500/40 transition-all"}),r.jsx("div",{className:"absolute inset-0 rounded-md pointer-events-none ring-0 group-focus-within:ring-2 group-focus-within:ring-blue-500/20 dark:group-focus-within:ring-blue-500/40 transition-all"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"space-y-2 group",children:[(0,r.jsxs)(o._,{htmlFor:"passengerCountAB",className:"flex items-center text-sm font-medium text-gray-700 dark:text-gray-300 group-focus-within:text-blue-500 dark:group-focus-within:text-blue-400 transition-colors",children:[r.jsx(j.Z,{className:"mr-2 h-4 w-4 text-blue-500 group-focus-within:text-blue-600 dark:group-focus-within:text-blue-400 transition-colors"}),"A → B Yolcu Sayısı"]}),(0,r.jsxs)("div",{className:"relative",children:[r.jsx(n.I,{id:"passengerCountAB",type:"number",min:"1",value:M,onChange:e=>{let t=""===e.target.value?"":Number(e.target.value);P(""===t?500:t)},className:"modern-input w-full focus:ring-2 focus:ring-blue-500/20 dark:focus:ring-blue-500/40 transition-all"}),r.jsx("div",{className:"absolute inset-0 rounded-md pointer-events-none ring-0 group-focus-within:ring-2 group-focus-within:ring-blue-500/20 dark:group-focus-within:ring-blue-500/40 transition-all"})]})]}),(0,r.jsxs)("div",{className:"space-y-2 group",children:[(0,r.jsxs)(o._,{htmlFor:"passengerCountBA",className:"flex items-center text-sm font-medium text-gray-700 dark:text-gray-300 group-focus-within:text-blue-500 dark:group-focus-within:text-blue-400 transition-colors",children:[r.jsx(j.Z,{className:"mr-2 h-4 w-4 text-blue-500 group-focus-within:text-blue-600 dark:group-focus-within:text-blue-400 transition-colors"}),"B → A Yolcu Sayısı"]}),(0,r.jsxs)("div",{className:"relative",children:[r.jsx(n.I,{id:"passengerCountBA",type:"number",min:"1",value:_,onChange:e=>{let t=""===e.target.value?"":Number(e.target.value);R(""===t?490:t)},className:"modern-input w-full focus:ring-2 focus:ring-blue-500/20 dark:focus:ring-blue-500/40 transition-all"}),r.jsx("div",{className:"absolute inset-0 rounded-md pointer-events-none ring-0 group-focus-within:ring-2 group-focus-within:ring-blue-500/20 dark:group-focus-within:ring-blue-500/40 transition-all"})]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"space-y-2 group",children:[(0,r.jsxs)(o._,{htmlFor:"routeDurationAB",className:"flex items-center text-sm font-medium text-gray-700 dark:text-gray-300 group-focus-within:text-blue-500 dark:group-focus-within:text-blue-400 transition-colors",children:[r.jsx(v.Z,{className:"mr-2 h-4 w-4 text-blue-500 group-focus-within:text-blue-600 dark:group-focus-within:text-blue-400 transition-colors"}),"A → B Parkur S\xfcresi (dk)"]}),r.jsx(z.pn,{children:(0,r.jsxs)(z.u,{children:[r.jsx(z.aJ,{asChild:!0,children:(0,r.jsxs)("div",{className:"relative",children:[r.jsx(n.I,{id:"routeDurationAB",type:"number",min:"1",value:E,onChange:e=>{let t=""===e.target.value?"":Number(e.target.value);O(""===t?50:t)},className:"modern-input w-full pr-8 focus:ring-2 focus:ring-blue-500/20 dark:focus:ring-blue-500/40 transition-all"}),r.jsx(N.Z,{className:"absolute right-2 top-1/2 transform -translate-y-1/2 h-4 w-4 text-blue-500/70"}),r.jsx("div",{className:"absolute inset-0 rounded-md pointer-events-none ring-0 group-focus-within:ring-2 group-focus-within:ring-blue-500/20 dark:group-focus-within:ring-blue-500/40 transition-all"})]})}),r.jsx(z._v,{className:"bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm border border-gray-200 dark:border-gray-700",children:r.jsx("p",{children:"Otob\xfcs\xfcn A'dan B'ye gidiş s\xfcresi"})})]})})]}),(0,r.jsxs)("div",{className:"space-y-2 group",children:[(0,r.jsxs)(o._,{htmlFor:"routeDurationBA",className:"flex items-center text-sm font-medium text-gray-700 dark:text-gray-300 group-focus-within:text-blue-500 dark:group-focus-within:text-blue-400 transition-colors",children:[r.jsx(v.Z,{className:"mr-2 h-4 w-4 text-blue-500 group-focus-within:text-blue-600 dark:group-focus-within:text-blue-400 transition-colors"}),"B → A Parkur S\xfcresi (dk)"]}),r.jsx(z.pn,{children:(0,r.jsxs)(z.u,{children:[r.jsx(z.aJ,{asChild:!0,children:(0,r.jsxs)("div",{className:"relative",children:[r.jsx(n.I,{id:"routeDurationBA",type:"number",min:"1",value:Z,onChange:e=>{let t=""===e.target.value?"":Number(e.target.value);D(""===t?45:t)},className:"modern-input w-full pr-8 focus:ring-2 focus:ring-blue-500/20 dark:focus:ring-blue-500/40 transition-all"}),r.jsx(N.Z,{className:"absolute right-2 top-1/2 transform -translate-y-1/2 h-4 w-4 text-blue-500/70"}),r.jsx("div",{className:"absolute inset-0 rounded-md pointer-events-none ring-0 group-focus-within:ring-2 group-focus-within:ring-blue-500/20 dark:group-focus-within:ring-blue-500/40 transition-all"})]})}),r.jsx(z._v,{className:"bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm border border-gray-200 dark:border-gray-700",children:r.jsx("p",{children:"Otob\xfcs\xfcn B'den A'ya d\xf6n\xfcş s\xfcresi"})})]})})]})]}),r.jsx("div",{className:"divider"}),(0,r.jsxs)("div",{className:"grid grid-cols-4 gap-4 mt-4",children:[r.jsx(i.z,{className:"col-span-3 py-6 text-base font-medium bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white border-0 shadow-md hover:shadow-lg hover:shadow-blue-500/20 dark:hover:shadow-blue-500/30 transition-all duration-300 hover:scale-[1.02] active:scale-[0.98]",onClick:()=>{J.current&&J.current.play().catch(e=>console.log("Audio play failed:",e)),T(!0),ea(0);let t=setInterval(()=>{ea(e=>{let t=e+10*Math.random();return t>100?100:t})},100);setTimeout(()=>{clearInterval(t),ea(100);let r=ei(e.start),s=ei(e.end),i=s-r,l=es(Math.ceil(M/a),Math.ceil(_/a),r,s,E,Z);ee({frequencyAB:l.scheduleAB.length>1?Math.round(i/(l.scheduleAB.length-1)):i,frequencyBA:l.scheduleBA.length>1?Math.round(i/(l.scheduleBA.length-1)):i,tripsAB:l.scheduleAB.length,tripsBA:l.scheduleBA.length,totalBuses:l.totalBuses,scheduleAB:l.scheduleAB,scheduleBA:l.scheduleBA,busUtilization:l.busUtilization}),T(!1),X.current&&X.current.play().catch(e=>console.log("Audio play failed:",e)),G(!0),setTimeout(()=>{G(!1)},3e3)},1500)},disabled:$,children:$?(0,r.jsxs)(r.Fragment,{children:[r.jsx(k.Z,{className:"mr-2 h-5 w-5 animate-spin"}),(0,r.jsxs)("div",{className:"relative",children:[r.jsx("span",{className:"opacity-0",children:"Optimizasyon"}),r.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,r.jsxs)("span",{children:["%",Math.round(et)]})})]})]}):(0,r.jsxs)(r.Fragment,{children:[r.jsx(c.Z,{className:"mr-2 h-5 w-5"}),"Sefer Planı Oluştur"]})}),r.jsx(i.z,{variant:"outline",className:"py-6 text-base font-medium bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700 transition-all duration-300 hover:scale-[1.02] active:scale-[0.98]",onClick:()=>{J.current&&J.current.play().catch(e=>console.log("Audio play failed:",e)),t({start:"07:00",end:"08:00"}),u(100),P(500),R(490),O(50),D(45),ee(null),ea(0)},disabled:$,children:"Sıfırla"})]})]})})]})}),Q?r.jsx(Y.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},children:(0,r.jsxs)(l.Zb,{className:"frosted-glass modern-shadow border-0 overflow-hidden transition-all duration-500 animate-fadeIn",children:[(0,r.jsxs)(l.Ol,{className:"pb-2 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)(l.ll,{className:"text-xl flex items-center text-gray-900 dark:text-gray-100",children:[r.jsx(w,{className:"mr-2 h-5 w-5 text-blue-500"}),"Sefer Planı Sonu\xe7ları"]}),(0,r.jsxs)(i.z,{variant:"outline",size:"sm",className:"flex items-center text-xs bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700 transition-all duration-300",onClick:()=>{if(!Q)return;J.current&&J.current.play().catch(e=>console.log("Audio play failed:",e));let e="data:text/csv;charset=utf-8,";e+="A->B Seferleri\r\nSefer No,Saat,Otob\xfcs\r\n",Q.scheduleAB.forEach((t,a)=>{e+=`${a+1},${t.time},${t.busId}\r
`}),e+="\r\nB->A Seferleri\r\nSefer No,Saat,Otob\xfcs\r\n",Q.scheduleBA.forEach((t,a)=>{e+=`${a+1},${t.time},${t.busId}\r
`}),e+="\r\nOtob\xfcs Kullanımı\r\nOtob\xfcs,Sefer Sayısı\r\n",Object.entries(Q.busUtilization).forEach(([t,a])=>{e+=`${t},${a.trips}\r
`});let t=encodeURI(e+=`\r
\xd6zet Bilgiler\r
Toplam Otob\xfcs Sayısı,${Q.totalBuses}\r
A->B Sefer Sıklığı,${Q.frequencyAB} dakika\r
B->A Sefer Sıklığı,${Q.frequencyBA} dakika\r
A->B Sefer Sayısı,${Q.tripsAB}\r
B->A Sefer Sayısı,${Q.tripsBA}\r
`),a=document.createElement("a");a.setAttribute("href",t),a.setAttribute("download","sefer_plani.csv"),document.body.appendChild(a),a.click(),document.body.removeChild(a)},children:[r.jsx(A,{className:"h-3.5 w-3.5 mr-1"}),"Excel'e Aktar"]})]}),r.jsx(l.SZ,{className:"text-gray-600 dark:text-gray-400 font-medium",children:"Hesaplanan sefer planı ve otob\xfcs ihtiyacı"})]}),r.jsx(l.aY,{className:"pt-6",children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)(Y.E.div,{className:"frosted-glass-light p-3 rounded-md",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3,delay:.1},children:[(0,r.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400 flex items-center font-medium",children:[r.jsx(S.Z,{className:"mr-2 h-4 w-4 text-blue-500"}),"A → B Sefer Sıklığı"]}),(0,r.jsxs)("p",{className:"text-lg font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600 dark:from-blue-400 dark:to-purple-400 mt-1",children:[Q.frequencyAB," dakika"]})]}),(0,r.jsxs)(Y.E.div,{className:"frosted-glass-light p-3 rounded-md",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3,delay:.2},children:[(0,r.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400 flex items-center font-medium",children:[r.jsx(S.Z,{className:"mr-2 h-4 w-4 rotate-180 text-blue-500"}),"B → A Sefer Sıklığı"]}),(0,r.jsxs)("p",{className:"text-lg font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600 dark:from-blue-400 dark:to-purple-400 mt-1",children:[Q.frequencyBA," dakika"]})]}),(0,r.jsxs)(Y.E.div,{className:"frosted-glass-light p-3 rounded-md",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3,delay:.3},children:[(0,r.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400 flex items-center font-medium",children:[r.jsx(B.Z,{className:"mr-2 h-4 w-4 text-blue-500"}),"A → B Sefer Sayısı"]}),(0,r.jsxs)("p",{className:"text-lg font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600 dark:from-blue-400 dark:to-purple-400 mt-1",children:[Q.tripsAB," sefer"]})]}),(0,r.jsxs)(Y.E.div,{className:"frosted-glass-light p-3 rounded-md",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3,delay:.4},children:[(0,r.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400 flex items-center font-medium",children:[r.jsx(B.Z,{className:"mr-2 h-4 w-4 rotate-180 text-blue-500"}),"B → A Sefer Sayısı"]}),(0,r.jsxs)("p",{className:"text-lg font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600 dark:from-blue-400 dark:to-purple-400 mt-1",children:[Q.tripsBA," sefer"]})]})]}),(0,r.jsxs)(Y.E.div,{className:"frosted-glass-light p-3 rounded-md flex items-center justify-between",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3,delay:.5},children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 font-medium",children:"Toplam Otob\xfcs İhtiyacı"}),(0,r.jsxs)("p",{className:"text-xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600 dark:from-blue-400 dark:to-purple-400",children:[Q.totalBuses," otob\xfcs"]})]}),r.jsx(x.Z,{className:"h-8 w-8 text-blue-500"})]}),r.jsx("div",{className:"divider"}),(0,r.jsxs)(C.mQ,{defaultValue:"schedules",className:"w-full",children:[(0,r.jsxs)(C.dr,{className:"grid w-full grid-cols-2 mb-6 custom-tabs",children:[(0,r.jsxs)(C.SP,{value:"schedules",className:"custom-tab",children:[r.jsx(x.Z,{className:"mr-2 h-4 w-4"}),"Sefer \xc7izelgeleri"]}),(0,r.jsxs)(C.SP,{value:"utilization",className:"custom-tab",children:[r.jsx(w,{className:"mr-2 h-4 w-4"}),"Otob\xfcs Kullanımı"]})]}),r.jsx(C.nU,{value:"schedules",children:(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("h3",{className:"text-base font-medium mb-3 flex items-center text-blue-600 dark:text-blue-400 p-2 rounded-md bg-blue-50 dark:bg-blue-900/20",children:[r.jsx(S.Z,{className:"mr-2 h-4 w-4 text-blue-500"}),"A → B Saat Planı"]}),r.jsx("div",{className:"bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm rounded-lg overflow-hidden border border-gray-200 dark:border-gray-700",children:(0,r.jsxs)(d.iA,{children:[r.jsx(d.xD,{className:"bg-gray-50/90 dark:bg-gray-900/90",children:(0,r.jsxs)(d.SC,{children:[r.jsx(d.ss,{className:"font-medium",children:"Sefer"}),r.jsx(d.ss,{className:"font-medium",children:"Saat"}),r.jsx(d.ss,{className:"font-medium",children:"Otob\xfcs"})]})}),r.jsx(d.RM,{children:Q.scheduleAB.map((e,t)=>(0,r.jsxs)(d.SC,{className:`${t%2==0?"bg-gray-50/50 dark:bg-gray-900/50":""} table-row-hover`,children:[r.jsx(d.pj,{className:"py-2 font-medium",children:t+1}),(0,r.jsxs)(d.pj,{className:"py-2 flex items-center",children:[r.jsx(y.Z,{className:"mr-2 h-4 w-4 text-blue-500"}),e.time]}),(0,r.jsxs)(d.pj,{className:"py-2 flex items-center",children:[r.jsx("div",{className:"bus-icon",children:e.busId.split("-")[1]}),r.jsx("span",{className:`px-2 py-1 rounded-md ${er(e.busId)}`,children:e.busId})]})]},t))})]})})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("h3",{className:"text-base font-medium mb-3 flex items-center text-blue-600 dark:text-blue-400 p-2 rounded-md bg-blue-50 dark:bg-blue-900/20",children:[r.jsx(S.Z,{className:"mr-2 h-4 w-4 rotate-180 text-blue-500"}),"B → A Saat Planı"]}),r.jsx("div",{className:"bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm rounded-lg overflow-hidden border border-gray-200 dark:border-gray-700",children:(0,r.jsxs)(d.iA,{children:[r.jsx(d.xD,{className:"bg-gray-50/90 dark:bg-gray-900/90",children:(0,r.jsxs)(d.SC,{children:[r.jsx(d.ss,{className:"font-medium",children:"Sefer"}),r.jsx(d.ss,{className:"font-medium",children:"Saat"}),r.jsx(d.ss,{className:"font-medium",children:"Otob\xfcs"})]})}),r.jsx(d.RM,{children:Q.scheduleBA.map((e,t)=>(0,r.jsxs)(d.SC,{className:`${t%2==0?"bg-gray-50/50 dark:bg-gray-900/50":""} table-row-hover`,children:[r.jsx(d.pj,{className:"py-2 font-medium",children:t+1}),(0,r.jsxs)(d.pj,{className:"py-2 flex items-center",children:[r.jsx(y.Z,{className:"mr-2 h-4 w-4 text-blue-500"}),e.time]}),(0,r.jsxs)(d.pj,{className:"py-2 flex items-center",children:[r.jsx("div",{className:"bus-icon",children:e.busId.split("-")[1]}),r.jsx("span",{className:`px-2 py-1 rounded-md ${er(e.busId)}`,children:e.busId})]})]},t))})]})})]})]})}),r.jsx(C.nU,{value:"utilization",children:(0,r.jsxs)("div",{className:"p-6 bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm rounded-lg border border-gray-200 dark:border-gray-700",children:[r.jsx("h3",{className:"text-base font-medium mb-5 text-blue-600 dark:text-blue-400",children:"Otob\xfcs Başına Sefer Sayısı"}),r.jsx("div",{className:"space-y-4",children:Object.entries(Q.busUtilization).map(([e,t],a)=>(0,r.jsxs)(Y.E.div,{className:"flex items-center p-2 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:.1*a},children:[(0,r.jsxs)("div",{className:"w-24 flex items-center",children:[r.jsx("div",{className:"bus-icon",children:e.split("-")[1]}),r.jsx("span",{className:"font-medium",children:e})]}),r.jsx("div",{className:"flex-1 ml-4",children:r.jsx("div",{className:"h-8 bg-gray-100 dark:bg-gray-700 rounded-full overflow-hidden",children:(0,r.jsxs)(Y.E.div,{className:"h-full bg-gradient-to-r from-blue-500 to-purple-500 dark:from-blue-600 dark:to-purple-600 transition-all duration-500 flex items-center justify-end pr-3 text-sm text-white font-medium",initial:{width:"0%"},animate:{width:`${Math.max(5,t.trips/(Q.tripsAB+Q.tripsBA)*100)}%`},transition:{duration:1,delay:.2+.1*a},children:[t.trips," sefer"]})})})]},a))})]})})]})]})})]})}):r.jsx(Y.E.div,{className:"flex items-center justify-center h-full",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.4},children:(0,r.jsxs)("div",{className:"w-full h-full min-h-[400px] flex flex-col items-center justify-center",children:[r.jsx(W,{}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-6 text-center max-w-md",children:'Parametreleri girin ve "Sefer Planı Oluştur" butonuna tıklayarak optimum sefer planını hesaplayın.'})]})})]})]})]}):null}eW.displayName=eP.displayName},2453:(e,t,a)=>{"use strict";a.d(t,{Ol:()=>n,SZ:()=>d,Zb:()=>l,aY:()=>c,ll:()=>o});var r=a(6814),s=a(9760),i=a(2338);let l=s.forwardRef(({className:e,...t},a)=>r.jsx("div",{ref:a,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));l.displayName="Card";let n=s.forwardRef(({className:e,...t},a)=>r.jsx("div",{ref:a,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...t}));n.displayName="CardHeader";let o=s.forwardRef(({className:e,...t},a)=>r.jsx("div",{ref:a,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));o.displayName="CardTitle";let d=s.forwardRef(({className:e,...t},a)=>r.jsx("div",{ref:a,className:(0,i.cn)("text-sm text-muted-foreground",e),...t}));d.displayName="CardDescription";let c=s.forwardRef(({className:e,...t},a)=>r.jsx("div",{ref:a,className:(0,i.cn)("p-6 pt-0",e),...t}));c.displayName="CardContent",s.forwardRef(({className:e,...t},a)=>r.jsx("div",{ref:a,className:(0,i.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter"},5162:(e,t,a)=>{"use strict";a.d(t,{_:()=>d});var r=a(6814),s=a(9760),i=a(9152),l=a(9154),n=a(2338);let o=(0,l.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=s.forwardRef(({className:e,...t},a)=>r.jsx(i.f,{ref:a,className:(0,n.cn)(o(),e),...t}));d.displayName=i.f.displayName},2615:(e,t,a)=>{"use strict";a.d(t,{SP:()=>d,dr:()=>o,mQ:()=>n,nU:()=>c});var r=a(6814),s=a(9760),i=a(2923),l=a(2338);let n=i.fC,o=s.forwardRef(({className:e,...t},a)=>r.jsx(i.aV,{ref:a,className:(0,l.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));o.displayName=i.aV.displayName;let d=s.forwardRef(({className:e,...t},a)=>r.jsx(i.xz,{ref:a,className:(0,l.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));d.displayName=i.xz.displayName;let c=s.forwardRef(({className:e,...t},a)=>r.jsx(i.VY,{ref:a,className:(0,l.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));c.displayName=i.VY.displayName},1013:(e,t,a)=>{"use strict";a.d(t,{_v:()=>c,aJ:()=>d,pn:()=>n,u:()=>o});var r=a(6814),s=a(9760),i=a(3874),l=a(2338);let n=i.zt,o=i.fC,d=i.xz,c=s.forwardRef(({className:e,sideOffset:t=4,...a},s)=>r.jsx(i.VY,{ref:s,sideOffset:t,className:(0,l.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...a}));c.displayName=i.VY.displayName},2852:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(7618).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},2004:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(7618).Z)("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},2137:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>i,__esModule:()=>s,default:()=>l});let r=(0,a(3611).createProxy)(String.raw`D:\bus_type_opt_cursor\bus_type_optimization\app\planner\page.tsx`),{__esModule:s,$$typeof:i}=r,l=r.default}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[619,142,215,693,465,33],()=>a(5506));module.exports=r})();